<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Dashboard - Add Prescription</title>


        <!-- Favicon and touch icons -->
        <link rel="shortcut icon" href="./iti-logo.png">

        <!-- jquery ui css -->
        <link href="Dashboard%20-%20Home_files/jquery-ui.css" rel="stylesheet" type="text/css">

        <!-- Bootstrap --> 
        <link href="Dashboard%20-%20Home_files/bootstrap.css" rel="stylesheet" type="text/css">
                <!-- Font Awesome 4.7.0 -->
        <link href="./fonts/css/all.css" rel="stylesheet" type="text/css">
        <link href="./fonts/css/fontawesome.css" rel="stylesheet" type="text/css">
        <link href="./fonts/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <!-- semantic css -->
        <link href="Dashboard%20-%20Home_files/semantic.css" rel="stylesheet" type="text/css"> 
        <!-- sliderAccess css -->
        <link href="Dashboard%20-%20Home_files/jquery-ui-timepicker-addon.css" rel="stylesheet" type="text/css"> 
        <!-- slider  -->
        <link href="Dashboard%20-%20Home_files/select2.css" rel="stylesheet" type="text/css"> 
        <!-- DataTables CSS -->
        <link href="Dashboard%20-%20Home_files/dataTables.css" rel="stylesheet" type="text/css"> 
        <!-- pe-icon-7-stroke -->
        <link href="./p/files/css/pe-icon-7-stroke.css" rel="stylesheet" type="text/css"> 
        <!-- themify icon css -->
        <link href="./themify-icons/themify-icons.css" rel="stylesheet" type="text/css"> 
        <!-- Pace css -->
        <link href="Dashboard%20-%20Home_files/flash.css" rel="stylesheet" type="text/css">
        <!-- Theme style -->
        <link href="Dashboard%20-%20Home_files/custom.css" rel="stylesheet" type="text/css">
        <!-- jstree view -->
        <link rel="stylesheet" href="Dashboard%20-%20Home_files/style.css">
                <!-- jQuery  -->
        <script src="addPrescription_files/jquery_003.js" type="text/javascript"></script>
    <style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style></head>
    <body class="sidebar-mini fixed  pace-done"><div class="pace  pace-inactive"><div class="pace-progress" style="transform: translate3d(100%, 0px, 0px);" data-progress-text="100%" data-progress="99">
  <div class="pace-progress-inner"></div>
</div>
<div class="pace-activity"></div></div>
        <div class="se-pre-con" style="display: none;"></div>

        <!-- Site wrapper -->
        <div class="wrapper">
                        
                        <header class="main-header"> 
                                <a href="index.html" class="logo"> <!-- Logo -->
                    <span class="logo-lg">
                        <img class="img-fluid" src="./iti-logo3.png" alt="">
                    </span>
                </a>

                <!-- Header Navbar -->
                <nav class="navbar navbar-static-top">
                    <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button"> <!-- Sidebar toggle button-->
                        <span class="sr-only">Toggle navigation</span>
                        <span class="pe-7s-keypad"></span>
                    </a>

                </nav>
            </header>
            <!-- =============================================== -->
            <!-- Left side column. contains the sidebar -->
 <aside class="main-sidebar">
                <!-- sidebar -->
                <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 650px;"><div class="sidebar" style="height: 650px; overflow: hidden; width: auto;"> 
                    <!-- Sidebar user panel -->
                    <div class="user-panel text-center">
                                                <div class="image">
                            <img src="iti-logo.png" class="img-circle" alt="User Image">
                        </div>
                        <div class="info">
                            <p>ITI Admin</p>
                            <a href="#"><i class="fa fa-circle text-success"></i>
                                                    </a>
                        </div>
                    </div>

                    <!-- sidebar menu -->
    <ul class="sidebar-menu">

    <li class="active">
        <a href="index.html"> <i class="fa fa ti-home"></i> Dashboard</a>
    </li> 


     
        <li class="treeview ">
        <a href="#">
		 <i class="fa fa-user-md"></i> 
           <span>Doctor</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
        </a>
        <ul class="treeview-menu">
                        <li class=""><a href="addDoctor.html">Add Doctor</a></li>
            
                        <li class=""><a href="doctorList.html">Doctor List</a></li> 
        </ul>
    </li>
     


        <li class="treeview ">
    <a href="#">
        <i class="fa fa-wheelchair"></i> <span>Patient</span>
        <span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
    </a>
    <ul class="treeview-menu">

                <li class=""><a href="addPatient.html">Add Patient</a></li>
       

                <li class=""><a href="patientList.html">Patient List</a></li> 
        
        </ul>
    </li> 
    

    

    
    <li class="treeview ">
       <a href="#">
        <i class="fa fa ti-pencil-alt"></i> <span>Appointment</span>
        <span class="pull-right-container">
            <i class="fa fa-angle-left pull-right"></i>
        </span>
      </a>
      <ul class="treeview-menu">

                 <li class=""><a href="addAppointment.html">Add Appointment</a></li>
        
                 <li class=""><a href="appointmentList.html">Appointment List</a></li> 
      
                       
      </ul>
    </li> 
    

    
    <li class="treeview ">
        <a href="#">
            <i class="fa fa-arrow-circle-right"></i> <span>Pharmacy </span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
        </a>
        <ul class="treeview-menu">

                         

                        <li class=""><a href="addMedicine.html"> Add Medicine</a></li>
            

                        <li class=""><a href="medicineList.html">Medicine List</a></li>
            
        </ul>
    </li> 
    
      
    
    <li class="treeview ">
        <a href="#">
            <i class="fa ti-book"></i><span>Prescription</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
        </a>
        <ul class="treeview-menu">
                        <li class=""><a href="addPrescription.html">Add Prescription</a></li> 
            
                        <li class=""><a href="prescriptionList.html">Prescription List</a></li>            
        </ul>
    </li>
    
    


        <li class="treeview ">
        <a href="#">
            <i class="fa fa-shield"></i> <span>Insurance </span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
        </a>
        <ul class="treeview-menu">
                        <li class=""><a href="addInsurance.html">Add Insurance</a></li> 
            

                        <li class=""><a href="insuranceList.html">Insurance List</a></li>  
            
        </ul>
    </li>
    


    
    

    
    
    

     
             
    </ul>
 </div><div class="slimScrollBar" style="background: rgb(114, 112, 120) none repeat scroll 0% 0%; width: 8px; position: absolute; top: 0px; opacity: 0.4; display: block; border-radius: 7px; z-index: 99; right: 1px; height: 345.18px;"></div><div class="slimScrollRail" style="width: 8px; height: 100%; position: absolute; top: 0px; display: none; border-radius: 7px; background: rgb(51, 51, 51) none repeat scroll 0% 0%; opacity: 0.2; z-index: 90; right: 1px;"></div></div> <!-- /.sidebar -->
</aside>


            <!-- =============================================== -->
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper" style="min-height: 660px;">
                <!-- Content Header (Page header) -->
                <section class="content-header">

                    <div class="p-l-30 p-r-30">
                        <div class="header-icon"><i class="pe-7s-world"></i></div>
                        <div class="header-title">
                            <h1>Prescription</h1>
                            <small>Add Prescription</small> 
                        </div>
                    </div>
                </section>
                <!-- Main content -->
                <div class="content"> 
                    <div id="demoModeEnable"></div>
                    <!-- alert message -->
                                        
                                        
                                        

                    <!-- content -->
                    <div class="row">
    <!--  form area -->
    <div class="col-sm-12">
        <div class="panel panel-default thumbnail">
 
            <div class="panel-heading no-print">
                <div class="btn-group"> 
                    <a class="btn btn-primary" href="#/prescription/prescription"> <i class="fa fa-list"></i>  Prescription List </a>  
                </div>
            </div> 

            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12 col-sm-12 table-responsive">
                        <form action="#/prescription/prescription/create" method="post" accept-charset="utf-8">
 

                        <!-- Information -->
                        <table class="table"> 
                            <thead>
                                <tr>  
                                    <th width="33.33%">
                                        <ul class="list-unstyled">
                                            <li> 
                                                <input type="text" placeholder="Patient ID" required="" name="patient_id" id="patient_id" class="invoice-input form-control">
                                                <p class="text-danger  invlid_patient_id"></p>
                                            </li>   
                                            <li> 
                                                <input type="text" placeholder="Patient  Name" class="invoice-input form-control" id="patient_name">
                                            </li>  
                                            <li>  
                                                <input type="text" placeholder="Sex" class="invoice-input form-control" id="sex">
                                            </li>  
                                            <li>  
                                                <input type="text" placeholder="Date of Birth" class="invoice-input form-control dropdown-month-years hasDatepicker" id="date_of_birth" autocomplete="off">
                                            </li>  
                                        </ul>
                                    </th>  
                                    <th width="33.33%">
                                        <ul class="list-unstyled">
                                            <li> 
                                                <input type="text" name="weight" placeholder="Weight" class="invoice-input form-control">
                                            </li>   
                                            <li> 
                                                <input type="text" name="blood_pressure" placeholder="Blood Pressure" class="invoice-input form-control">
                                            </li> 
                                            <li> 
                                                <input type="text" name="reference_by" placeholder="Reference" class="invoice-input form-control">
                                            </li>  
                                            <li>  
                                                <div class="form-check form-control invoice-input">
                                                    <label class="radio-inline" style="padding:0 10px 0 0 ">Type </label>
                                                    <label class="radio-inline"><input type="radio" name="patient_type" value="New" checked="checked">New</label>
                                                    <label class="radio-inline"><input type="radio" name="patient_type" value="Old">Old</label>
                                                </div> 
                                            </li>    
                                        </ul>
                                    </th>   
                                    <th width="33.33%">
                                        <ul class="list-unstyled">
                                            <li><input type="text" name="appointment_id" value="A1TA6MEL73" class="invoice-input form-control" placeholder="Appointment ID"></li>
                                            <li><input type="text" name="date" required="" value="21-12-2021" class="datepicker invoice-input form-control hasDatepicker" placeholder="Date" id="dp1640119002539"></li> 
                                            <li><input type="text" value="Demo Hospital Limited" class="invoice-input form-control" placeholder="Hospital Name"></li> 
                                            <li><input type="text" value="Mannan Plaza, 4th Floor, Khilkhet Dhaka-1229, Bangladesh" class="invoice-input form-control" placeholder="Address"></li> 
                                        </ul>
                                    </th> 
                                </tr> 
                                <tr>
                                    <th>
                                        <textarea type="text" required="" placeholder="Chief Complain" name="chief_complain" class="invoice-input form-control"></textarea>
                                    </th> 
                                    <th class="text-center">    
                                        <div class="btn-group">
                                        <button type="button" class="btn btn-info btn-sm caseStudyBtn" data-toggle="modal" data-target="#myModal">Case Study</button>

                                        <select name="insurance_id" class="btn btn-sm select2">
<option value="" selected="selected">Select Insurance</option>
<option value="1">Test Insurance</option>
<option value="2">Leylaa</option>
<option value="3">ARC</option>
<option value="4">ARC</option>
<option value="5">BPJS (Kelas Satu)</option>
<option value="6">sss</option>
<option value="7">NHIS</option>
<option value="8">Humano Seguros</option>
<option value="9">Familia</option>
</select>
 
                                        </div>
                                    </th> 
                                    <th>
                                        <input type="text" name="policy_no" class="invoice-input form-control" placeholder="Policy No.">
                                    </th>
                                </tr>
                            </thead>
                        </table>

                        

                        <!-- Medicine -->
                        <table class="table table-striped"> 
                            <thead>
                                <tr class="bg-primary">
                                    <th width="160">Medicine Name</th>
                                    <th width="160">Medicine Type</th>
                                    <th>Instruction</th>
                                    <th width="80">Days</th>
                                    <th width="160">Add / Remove</th>  
                                </tr>
                            </thead>
                            <tbody id="medicine">
                                <tr>
                                    <td><input type="text" name="medicine_name[]" autocomplete="off" class="medicine form-control" placeholder="Medicine Name"></td>
                                    <td><input type="text" name="medicine_type[]" autocomplete="off" class="form-control" placeholder="Medicine Type"></td>
                                    <td><textarea name="medicine_instruction[]" class="form-control" placeholder="Instruction"></textarea></td> 
                                    <td><input type="text" name="medicine_days[]" autocomplete="off" class="form-control" placeholder="Days"></td> 
                                    <td>
                                      <div class="btn btn-group">
                                        <button type="button" class="btn btn-sm btn-primary MedAddBtn">Add</button>
                                        <button type="button" class="btn btn-sm btn-danger MedRemoveBtn">Remove</button>
                                        </div>
                                    </td>   
                                </tr>  
                            </tbody> 
                        </table> 


                        <!-- diagnosis -->
                        <table class="table table-striped"> 
                            <thead>
                                <tr class="bg-danger">
                                    <th width="230">Diagnosis</th>
                                    <th>Instruction</th>
                                    <th width="160">Add / Remove</th>  
                                </tr>
                            </thead>
                            <tbody id="diagnosis">
                                <tr>
                                    <td><input type="text" name="diagnosis_name[]" autocomplete="off" class="form-control" placeholder="Diagnosis"></td>
                                    <td><textarea name="diagnosis_instruction[]" class="form-control" placeholder="Instruction"></textarea></td> 
                                    <td>
                                      <div class="btn btn-group">
                                        <button type="button" class="btn btn-sm btn-primary DiaAddBtn">Add</button>
                                        <button type="button" class="btn btn-sm btn-danger DiaRemoveBtn">Remove</button>
                                        </div>
                                    </td>   
                                </tr>  
                            </tbody> 
                        </table>  


                        <!-- Fees & Comments -->
                        <div class="row">
                            <div class="col-sm-12">

                                <div class="form-group row">
                                    <label for="visiting_fees" class="col-xs-3 col-form-label">Visiting Fees</label>
                                    <div class="col-xs-9">
                                        <input name="visiting_fees" type="text" class="form-control" id="visiting_fees" placeholder="Visiting Fees">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="patient_notes" class="col-xs-3 col-form-label">Patient Notes</label>
                                    <div class="col-xs-9">
                                        <textarea name="patient_notes" class="form-control" placeholder="Patient Notes"></textarea>
                                    </div>
                                </div> 
                                
                                <div class="form-group row">
                                    <div class="col-sm-offset-3 col-sm-6">
                                        <div class="ui buttons">
                                            <button type="reset" class="ui button">Reset</button>
                                            <div class="or"></div>
                                            <button class="ui positive button">Save</button>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        </form>                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
 

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
        <h4 class="modal-title" id="myModalLabel">Case Study</h4>
      </div>
      <div class="modal-body" id="caseStudyOutput">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <a href="#/prescription/case_study/create?patient_id=" class="btn btn-primary hideAction">Add Patient Case Study</a>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">
$(document).ready(function() {   
 
    //patient information 
    $('body').on("click", ".caseStudyBtn", function () {

        var patient_id = $("#patient_id").val();
        $.ajax({
            url     : '#/prescription/prescription/case_study',
            method  : 'post',
            dataType: 'json', 
            data    : {
                'patient_id' : patient_id,
                'ci_csrf_token' : ''
            },
            success : function(data) {
                if (data) {

                    html = "<table class='table table-striped'>"+
                                "<thead>"+
                                    "<tr class='bg-info'>"+
                                        "<td>CASE</td>"+
                                        "<td>STATUS</td>"+ 
                                    "</tr>"+
                                "</thead>"+
                                "<tbody>";

                    $.each(data, function(i, v) {
                        if (i!='id' && i!='status') {
                            var i = i.replace('_', ' ').toUpperCase();
                            html += "<tr><td>"+i+"</td><td>"+v+"</td></tr>";
                        }
                    });

                    html += "</tbody></table>";
                    $('.hideAction').hide();
                    $("#caseStudyOutput").html(html);
                } else {
                    $('.hideAction').show();
                    $("#caseStudyOutput").html('Data not available!');
                }
            },
            error   : function() {
                alert('failed!');
            } 
        });   
    });
 
    // medicine list
    $('body').on('keyup change click', '.medicine', function(){
        $(this).autocomplete({
            source: [
                "Tim","Pn2","Hotel China Town","Depo-Medrol 80mg/2ml","Pan","Zahra Memorial Hospital","EPICURE 250mg","Sohail","Ümit Albayrak","Paracetamol","Stent Xience Expedition 2.25 x 48","paracetamol","dolo","Lead Sulphide","Combiflam","Shankvati","captopril","Panadaol","Mr K Moodley","Talcid","abc","Risek","fdf",            ]
        });
    });    



    //#------------------------------------
    //   STARTS OF MEDICINE 
    //#------------------------------------    
    //add row
    $('body').on('click','.MedAddBtn' ,function() {
        var itemData = $(this).parent().parent().parent(); 
        $('#medicine').append("<tr>"+itemData.html()+"</tr>");
        $('#medicine tr:last-child').find(':input').val('');
    });
    //remove row
    $('body').on('click','.MedRemoveBtn' ,function() {
        $(this).parent().parent().parent().remove();
    });

    //#------------------------------------
    //   STARTS OF DIAGNOSIS 
    //#------------------------------------    
    //add row
    $('body').on('click','.DiaAddBtn' ,function() {
        var itemData = $(this).parent().parent().parent(); 
        $('#diagnosis').append("<tr>"+itemData.html()+"</tr>"); 
        $('#diagnosis tr:last-child').find(':input').val('');
    });
    //remove row
    $('body').on('click','.DiaRemoveBtn' ,function() {
        $(this).parent().parent().parent().remove();
    });


    //#------------------------------------
    //   ENDS OF PATIENT INFORMATION
    //#------------------------------------

    $(window).on('load', function(){
        var patient_id = '';
        if(patient_id.length > 0)
        patientInfo(patient_id);
    });

    $('body').on('keyup change', '#patient_id', function() {
        var patient_id = $(this).val();
        patientInfo(patient_id);
    });

    function patientInfo(patient_id)
    { 
        if(patient_id.length > 0)
        $.ajax({
            url     : '#/prescription/prescription/patient',
            method  : 'post',
            dataType: 'json', 
            data    : {
                'patient_id' : patient_id,
                'ci_csrf_token' : ''
            },
            success : function(data) {
                if (data.status == true) { 
                    $(".invlid_patient_id").text('');
                    $("#patient_name").val(data.name);
                    $("#sex").val(data.sex);
                    $("#date_of_birth").val(data.date_of_birth);
                } else {
                    $(".invlid_patient_id").text('Invalid patient ID');
                }
            },
            error   : function() {
                alert('failed!');
            } 
        });
    } 
    
    // show dropdown month name and previous years
    $( ".dropdown-month-years" ).datepicker({
        dateFormat: "dd-mm-yy",
        changeMonth: true,
        changeYear: true,
        yearRange: "-50:+0"
     });

});
</script>
                </div> <!-- /.content -->
            </div> <!-- /.content-wrapper -->

            <footer class="main-footer" >
                        <img class="img-fluid" height="50px" src="./iti-logo2.png" alt="">
						 </footer>
        </div> <!-- ./wrapper -->
 
        <!-- jquery-ui js -->
        <script src="addPrescription_files/jquery-ui.js" type="text/javascript"></script> 
        <!-- bootstrap js -->
        <script src="addPrescription_files/bootstrap.js" type="text/javascript"></script>  
        <!-- pace js -->
        <script src="addPrescription_files/pace.js" type="text/javascript"></script>  
        <!-- SlimScroll -->
        <script src="addPrescription_files/jquery_002.js" type="text/javascript"></script>  

        <!-- bootstrap timepicker -->
        <script src="addPrescription_files/jquery-ui-sliderAccess.js" type="text/javascript"></script> 
        <script src="addPrescription_files/jquery-ui-timepicker-addon.js" type="text/javascript"></script> 
        <!-- select2 js -->
        <script src="addPrescription_files/select2.js" type="text/javascript"></script>

        <script src="addPrescription_files/sparkline.js" type="text/javascript"></script> 
        <!-- Counter js -->
        <script src="addPrescription_files/waypoints.js" type="text/javascript"></script>
        <script src="addPrescription_files/jquery.js" type="text/javascript"></script>

        <!-- ChartJs JavaScript -->
        <script src="addPrescription_files/Chart.js" type="text/javascript"></script>
        
        <!-- semantic js -->
        <script src="addPrescription_files/semantic.js" type="text/javascript"></script>
        <!-- DataTables JavaScript -->
        <script src="addPrescription_files/dataTables.js"></script>
        <!-- tinymce texteditor -->
        <script src="addPrescription_files/tinymce.js" type="text/javascript"></script> 
        <!-- Table Head Fixer -->
        <script src="addPrescription_files/tableHeadFixer.js" type="text/javascript"></script> 

        <!-- Admin Script -->
        <script src="addPrescription_files/frame.js" type="text/javascript"></script> 

        <!-- Custom Theme JavaScript -->
        <script src="addPrescription_files/custom.js" type="text/javascript"></script>
        <!-- jstree view -->
        <script src="addPrescription_files/jstree.js"></script>
    
<div id="ui-datepicker-div" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div></body></html>